<div class="cart-main-content">
    <div class="content-wrapper">
        <h2>Carrinho de compras</h2>
    </div>
    
    <section class="cart" *ngIf="(items.length > 0)">
        <div class="content-wrapper">
            <table class="cart-table" aria-describedby="Produtos no carrinho de compras">
                <thead>
                    <tr>
                        <th scope="col">Pokemon selecionado</th>
                        <th scope="col">&nbsp;</th>
                        <th scope="col">Quantidade</th>
                        <th scope="col">Preço/unidade</th>
                        <th scope="col">&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of items">
                        <td> <img [src]='"https://pokeres.bastionbot.org/images/pokemon/" + item.id + ".png"' alt="Imagem do pokemon {{item.name}}"> </td>
                        <td>{{ item.name | titlecase }}</td>
                        <td>{{ item.amount }}</td>
                        <td>{{ item.price }} Poke Coins</td>
                        <td><button type="button" class="btn btn--text" (click)="removeFromCart(item)" gaEvent gaCategory="Carrinho de compras" gaLabel="Pokemon {{item.name}} removido do carrinho de compras"><span>Remover</span></button></td>
                    </tr>
                    <tr>
                        <td colspan="5" class="cart-total">
                            <div>
                                <p>Total: <span class="total-price">{{getTotalPrice}}</span> <img class="pokecoin" src="./assets/images/pokecoin.png" alt="Pokemoeda"> <span> Poke Coins!</span></p>                                 
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="cart-actions">
                <button type="button" class="btn btn--back" (click)="handleBack()">
                    <mat-icon>arrow_back</mat-icon>
                    <span>Voltar</span>
                </button> 
                <div>
                    <button type="button" class="btn btn--clear-cart" (click)="clearCart()" gaEvent gaCategory="Carrinho de compras" gaLabel="Limpeza total do carrinho de compras">
                        <mat-icon>remove_shopping_cart</mat-icon>
                        <span>Limpar Carrinho</span>
                    </button>
                    <button type="button" class="btn btn--primary btn--complete-purchase" (click)="completePurchase()"><span>Finalizar compra</span></button>
                </div>  
            </div>
        </div>        
    </section>
    <div class="empty-cart" *ngIf="(items.length === 0)">
        <div class="content-wrapper">
            <p>Seu carrinho de compras está vazio :(</p>
            <img src="./assets/images/sadpikachu.jpg" alt="Seu carrinho está vazio, Pikachu está triste :(" title="Seu carrinho está vazio, Pikachu está triste :(">
        </div>
    </div>
</div>

